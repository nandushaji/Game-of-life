{"ast":null,"code":"import _slicedToArray from\"/home/nandu/Desktop/Game-of-life/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import ShowGrid from\"./components/ShowGrid\";import RowCol from\"./components/RowCol\";import cloneDeep from\"lodash/cloneDeep\";import\"./App.css\";var App=function App(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),row=_useState2[0],setRow=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),start=_useState4[0],SetStarted=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),col=_useState6[0],setCol=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),grid=_useState8[0],setGrid=_useState8[1];useEffect(function(){var initGrid=[];for(var i=0;i<row;i++){initGrid[i]=[];for(var j=0;j<col;j++){initGrid[i][j]=0;}}setGrid(initGrid);},[row,col]);useEffect(function(){var interval;if(start){interval=setInterval(function(){if(!start){return;}setGrid(startLife);},1000);}return function(){return clearInterval(interval);};},[start,grid,setGrid]);var startLife=function startLife(grid){var row=grid.length;var col=grid[0].length;var currentGen=cloneDeep(grid);var copyGen=cloneDeep(grid);var countNeighbours=function countNeighbours(i,j,cGen){var total=0;for(var xoff=-1;xoff<=1;xoff++){for(var yoff=-1;yoff<=1;yoff++){var r=i+xoff;var c=j+yoff;if(xoff!==0||yoff!==0){if(r>-1&&r<row&&c>-1&&c<col){if(cGen[r][c]===1){total++;}}}}}return total;};for(var i=0;i<row;i++){for(var j=0;j<col;j++){var n=countNeighbours(i,j,currentGen);if(currentGen[i][j]===1){if(n<2){copyGen[i][j]=0;}else if(n>3){copyGen[i][j]=0;}}else{if(n===3){copyGen[i][j]=1;}}}}setGrid(copyGen);};return/*#__PURE__*/React.createElement(\"div\",{className:\"App-header\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Game of life\"),/*#__PURE__*/React.createElement(RowCol,{setCol:setCol,setRow:setRow,setGrid:setGrid}),/*#__PURE__*/React.createElement(ShowGrid,{grid:grid,row:row,col:col,setGrid:setGrid}),/*#__PURE__*/React.createElement(\"div\",{style:{textAlign:\"center\"}},/*#__PURE__*/React.createElement(\"button\",{className:\"button\",onClick:function onClick(){SetStarted(!start);}},start?\"stop\":\"start\")));};export default App;","map":{"version":3,"sources":["/home/nandu/Desktop/Game-of-life/src/App.js"],"names":["React","useState","useEffect","ShowGrid","RowCol","cloneDeep","App","row","setRow","start","SetStarted","col","setCol","grid","setGrid","initGrid","i","j","interval","setInterval","startLife","clearInterval","length","currentGen","copyGen","countNeighbours","cGen","total","xoff","yoff","r","c","n","textAlign"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport ShowGrid from \"./components/ShowGrid\";\nimport RowCol from \"./components/RowCol\";\nimport cloneDeep from \"lodash/cloneDeep\";\nimport \"./App.css\";\n\nconst App = () => {\n  const [row, setRow] = useState();\n  const [start, SetStarted] = useState(false);\n  const [col, setCol] = useState();\n  const [grid, setGrid] = useState([]);\n\n  useEffect(() => {\n    let initGrid = [];\n    for (let i = 0; i < row; i++) {\n      initGrid[i] = [];\n      for (let j = 0; j < col; j++) {\n        initGrid[i][j] = 0;\n      }\n    }\n    setGrid(initGrid);\n  }, [row, col]);\n\n  useEffect(() => {\n    let interval;\n    if (start) {\n      interval = setInterval(() => {\n        if (!start) {\n          return;\n        }\n        setGrid(startLife);\n      }, 1000);\n    }\n    return () => clearInterval(interval);\n  }, [start, grid, setGrid]);\n  const startLife = (grid) => {\n    let row = grid.length;\n    let col = grid[0].length;\n    const currentGen = cloneDeep(grid);\n    const copyGen = cloneDeep(grid);\n    const countNeighbours = (i, j, cGen) => {\n      var total = 0;\n      for (var xoff = -1; xoff <= 1; xoff++) {\n        for (var yoff = -1; yoff <= 1; yoff++) {\n          var r = i + xoff;\n          var c = j + yoff;\n          if (xoff !== 0 || yoff !== 0) {\n            if (r > -1 && r < row && c > -1 && c < col) {\n              if (cGen[r][c] === 1) {\n                total++;\n              }\n            }\n          }\n        }\n      }\n      return total;\n    };\n    for (let i = 0; i < row; i++) {\n      for (let j = 0; j < col; j++) {\n        var n = countNeighbours(i, j, currentGen);\n\n        if (currentGen[i][j] === 1) {\n          if (n < 2) {\n            copyGen[i][j] = 0;\n          } else if (n > 3) {\n            copyGen[i][j] = 0;\n          }\n        } else {\n          if (n === 3) {\n            copyGen[i][j] = 1;\n          }\n        }\n      }\n    }\n\n    setGrid(copyGen);\n  };\n  return (\n    <div className=\"App-header\">\n      <h1>Game of life</h1>\n      <RowCol setCol={setCol} setRow={setRow} setGrid={setGrid} />\n      <ShowGrid grid={grid} row={row} col={col} setGrid={setGrid} />\n      <div style={{ textAlign: \"center\" }}>\n        <button\n          className=\"button\"\n          onClick={() => {\n            SetStarted(!start);\n          }}\n        >\n          {start ? \"stop\" : \"start\"}\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}